	IN 10H
ARXI:
	LDA 2000H	;LOAD DIP SWITCHES ON A
	MOV B,A	;SAVE A FOR FUTURE USE
	RLC		;ROTATE MSB SO B3 GOES FIRST IN A
	ANA B		;A AND B
	RLC		;PUT MSB IN CY
	MVI D,00H	;SET D TO 0
	JNC GATE2	;IF CY==0 THEN D REMAINS THE SAME
	MVI D,08H	;ELSE SET D TO 1000
GATE2:
	RLC		;ROTATE LEFT SO A=(B2^A2,...)
	RLC		; B2^A2 GOES IN CY
	MVI C,00H
	JNC GATE3	;IF CY==0 THEN C REMAINS THE SAME
	MVI C,04H	;ELSE SET C TO 100
GATE3:
	MOV A,B
	RLC
	ORA B		;A OR B
	RRC		;SO LSB BECOMES (B0||A0)
	MOV B,A	;SAVE A FOR FUTURE USE
GATE4:
	RRC
	RRC		;(..... B1||A1)
	RRC		;ROTATE RIGHT SO B1||A1 IS IN CARRY
	MVI E,00H
	JNC GATE5
	MVI E,02H	;ELSE SET E TO 10
GATE5:
	RLC		;BRING BACK (B1||A1) AS LSB FOR THE XOR GATE
	XRA B		;A XOR B WHERE A IS (.....(B0||A0)XOR(B1||A1))
	RRC		;LSB IN CY
	MVI H,00H	;H==0
	JNC LIGHTS	;
	MVI H,01H	;ELSE SET H TO 1
LIGHTS:
	MOV A,D
	ADD C
	ADD E
	ADD H		;SUM IN A, A=DCEH
;LED
	CMA		;REVERSE LOGIC IN LEDS
	STA 3000H	;SET A IN
	JMP ARXI	;PROGRA WORKS CONTINUALLY
END